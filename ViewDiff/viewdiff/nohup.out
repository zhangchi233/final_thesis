The following values were not passed to `accelerate launch` and had defaults used instead:
	`--num_processes` was set to a value of `1`
	`--num_machines` was set to a value of `1`
	`--mixed_precision` was set to a value of `'no'`
	`--dynamo_backend` was set to a value of `'no'`
To avoid this warning pass in values for each of the problematic parameters or run `accelerate config`.
/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_resolver.py:305: UserWarning: <class 'float'> does not match any type in Union: [<class 'int'>, <class 'NoneType'>]
  warnings.warn(
/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_fields.py:826: UserWarning: Mutable type <class 'io_util.SaveConfig'> is used as a default value for `save`. This is dangerous! Consider using `dataclasses.field(default_factory=...)` or marking <class 'io_util.SaveConfig'> as frozen.
  warnings.warn(
/root/autodl-tmp/ViewDiff/viewdiff
/root/autodl-tmp/ViewDiff/viewdiff
/root/autodl-tmp/ViewDiff/viewdiff
/root/autodl-tmp/ViewDiff/viewdiff
Traceback (most recent call last):
  File "/root/autodl-tmp/ViewDiff/viewdiff/train_pix2pix.py", line 1060, in <module>
    tyro.cli(train_and_test)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_cli.py", line 177, in cli
    output = _cli_impl(
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_cli.py", line 431, in _cli_impl
    out, consumed_keywords = _calling.call_from_args(
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_calling.py", line 217, in call_from_args
    return unwrapped_f(*positional_args, **kwargs), consumed_keywords  # type: ignore
  File "/root/autodl-tmp/ViewDiff/viewdiff/train_pix2pix.py", line 99, in train_and_test
    setup_output_directories(
  File "/root/autodl-tmp/ViewDiff/viewdiff/../viewdiff/io_util.py", line 133, in setup_output_directories
    raise NotImplementedError("unsupported dataset config", type(dataset_config))
NotImplementedError: ('unsupported dataset config', <class 'viewdiff.data.dtu.dtu.DTUConfig'>)
Traceback (most recent call last):
  File "/root/miniconda3/lib/python3.8/runpy.py", line 194, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/root/miniconda3/lib/python3.8/runpy.py", line 87, in _run_code
    exec(code, run_globals)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 996, in <module>
    main()
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 992, in main
    launch_command(args)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 986, in launch_command
    simple_launcher(args)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 628, in simple_launcher
    raise subprocess.CalledProcessError(returncode=process.returncode, cmd=cmd)
subprocess.CalledProcessError: Command '['/root/autodl-tmp/instructpix2pix/bin/python', '/root/autodl-tmp/ViewDiff/viewdiff/train_pix2pix.py', '--finetune-config.io.pretrained_model_name_or_path', 'timbrooks/instruct-pix2pix', '--finetune-config.io.output_dir', '/root/autodl-tmp/output_var_unproj_dtu2', '--finetune-config.io.experiment_name', 'class6', '--finetune-config.training.mixed_precision', 'bf16', '--finetune-config.training.dataloader_num_workers', '4', '--finetune-config.training.num_train_epochs', '200', '--finetune-config.training.train_batch_size', '4', '--finetune-config.training.dreambooth_prior_preservation_loss_weight', '-1', '--finetune_config.training.noise_prediction_type', 'epsilon', '--finetune_config.training.prob_images_not_noisy', '0.25', '--finetune_config.training.max_num_images_not_noisy', '2', '--finetune_config.training.validation_epochs', '1', '--finetune_config.training.dreambooth_prior_preservation_every_nth', '-1', '--finetune-config.optimizer.learning_rate', '7e-5', '--finetune-config.optimizer.vol_rend_learning_rate', '1e-3', '--finetune-config.optimizer.vol_rend_adam_weight_decay', '0.0', '--finetune-config.optimizer.gradient_accumulation_steps', '1', '--finetune-config.optimizer.max_grad_norm', '5e-3', '--finetune-config.cross_frame_attention.to_k_other_frames', '2', '--finetune-config.cross_frame_attention.random_others', '--finetune-config.cross_frame_attention.with_self_attention', '--finetune-config.cross_frame_attention.use_temb_cond', '--finetune-config.cross_frame_attention.mode', 'pretrained', '--finetune-config.cross_frame_attention.n_cfa_down_blocks', '1', '--finetune-config.cross_frame_attention.n_cfa_up_blocks', '1', '--finetune-config.cross_frame_attention.unproj_reproj_mode', 'with_unproj_cfa', '--finetune-config.cross_frame_attention.num_3d_layers', '1', '--finetune-config.cross_frame_attention.dim_3d_latent', '16', '--finetune-config.cross_frame_attention.dim_3d_grid', '64', '--finetune-config.cross_frame_attention.n_novel_images', '0', '--finetune-config.cross_frame_attention.vol_rend_proj_in_mode', 'multiple', '--finetune-config.cross_frame_attention.vol_rend_proj_out_mode', 'multiple', '--finetune-config.cross_frame_attention.vol_rend_aggregator_mode', 'ibrnet', '--finetune-config.cross_frame_attention.last_layer_mode', 'no_residual_connection', '--finetune_config.cross_frame_attention.vol_rend_model_background', '--finetune_config.cross_frame_attention.vol_rend_background_grid_percentage', '0.5', '--finetune-config.model.pose_cond_mode', 'sa-ca', '--finetune-config.model.pose_cond_coord_space', 'absolute', '--finetune-config.model.pose_cond_lora_rank', '64', '--finetune-config.model.n_input_images', '3', '--dataset-config.root-dir', '/root/autodl-tmp/eth3d_high_res_test', '--dataset-config.threshold', '0.8', '--dataset-config.split', 'train', '--dataset-config.img_wh', '512', '--dataset-config.debug', '0', '--validation-dataset-config.debug', '0', '--validation-dataset-config.root-dir', '/root/autodl-tmp/eth3d_high_res_test', '--validation-dataset-config.split', 'val', '--validation-dataset-config.threshold', '0.8']' returned non-zero exit status 1.
The following values were not passed to `accelerate launch` and had defaults used instead:
	`--num_processes` was set to a value of `1`
	`--num_machines` was set to a value of `1`
	`--mixed_precision` was set to a value of `'no'`
	`--dynamo_backend` was set to a value of `'no'`
To avoid this warning pass in values for each of the problematic parameters or run `accelerate config`.
/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_resolver.py:305: UserWarning: <class 'float'> does not match any type in Union: [<class 'int'>, <class 'NoneType'>]
  warnings.warn(
/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_fields.py:826: UserWarning: Mutable type <class 'io_util.SaveConfig'> is used as a default value for `save`. This is dangerous! Consider using `dataclasses.field(default_factory=...)` or marking <class 'io_util.SaveConfig'> as frozen.
  warnings.warn(
/root/autodl-tmp/ViewDiff/viewdiff
/root/autodl-tmp/ViewDiff/viewdiff
/root/autodl-tmp/ViewDiff/viewdiff
/root/autodl-tmp/ViewDiff/viewdiff
Traceback (most recent call last):
  File "/root/autodl-tmp/ViewDiff/viewdiff/train_pix2pix.py", line 1060, in <module>
    tyro.cli(train_and_test)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_cli.py", line 177, in cli
    output = _cli_impl(
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_cli.py", line 431, in _cli_impl
    out, consumed_keywords = _calling.call_from_args(
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/tyro/_calling.py", line 217, in call_from_args
    return unwrapped_f(*positional_args, **kwargs), consumed_keywords  # type: ignore
  File "/root/autodl-tmp/ViewDiff/viewdiff/train_pix2pix.py", line 99, in train_and_test
    setup_output_directories(
  File "/root/autodl-tmp/ViewDiff/viewdiff/../viewdiff/io_util.py", line 133, in setup_output_directories
    raise NotImplementedError("unsupported dataset config", type(dataset_config))
NotImplementedError: ('unsupported dataset config', <class 'viewdiff.data.dtu.dtu.DTUConfig'>)
Traceback (most recent call last):
  File "/root/miniconda3/lib/python3.8/runpy.py", line 194, in _run_module_as_main
    return _run_code(code, main_globals, None,
  File "/root/miniconda3/lib/python3.8/runpy.py", line 87, in _run_code
    exec(code, run_globals)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 996, in <module>
    main()
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 992, in main
    launch_command(args)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 986, in launch_command
    simple_launcher(args)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/launch.py", line 628, in simple_launcher
    raise subprocess.CalledProcessError(returncode=process.returncode, cmd=cmd)
subprocess.CalledProcessError: Command '['/root/autodl-tmp/instructpix2pix/bin/python', '/root/autodl-tmp/ViewDiff/viewdiff/train_pix2pix.py', '--finetune-config.io.pretrained_model_name_or_path', 'timbrooks/instruct-pix2pix', '--finetune-config.io.output_dir', '/root/autodl-tmp/output_var_unproj_dtu2', '--finetune-config.io.experiment_name', 'class6', '--finetune-config.training.mixed_precision', 'bf16', '--finetune-config.training.dataloader_num_workers', '4', '--finetune-config.training.num_train_epochs', '200', '--finetune-config.training.train_batch_size', '4', '--finetune-config.training.dreambooth_prior_preservation_loss_weight', '-1', '--finetune_config.training.noise_prediction_type', 'epsilon', '--finetune_config.training.prob_images_not_noisy', '0.25', '--finetune_config.training.max_num_images_not_noisy', '2', '--finetune_config.training.validation_epochs', '1', '--finetune_config.training.dreambooth_prior_preservation_every_nth', '-1', '--finetune-config.optimizer.learning_rate', '7e-5', '--finetune-config.optimizer.vol_rend_learning_rate', '1e-3', '--finetune-config.optimizer.vol_rend_adam_weight_decay', '0.0', '--finetune-config.optimizer.gradient_accumulation_steps', '1', '--finetune-config.optimizer.max_grad_norm', '5e-3', '--finetune-config.cross_frame_attention.to_k_other_frames', '2', '--finetune-config.cross_frame_attention.random_others', '--finetune-config.cross_frame_attention.with_self_attention', '--finetune-config.cross_frame_attention.use_temb_cond', '--finetune-config.cross_frame_attention.mode', 'pretrained', '--finetune-config.cross_frame_attention.n_cfa_down_blocks', '1', '--finetune-config.cross_frame_attention.n_cfa_up_blocks', '1', '--finetune-config.cross_frame_attention.unproj_reproj_mode', 'with_unproj_cfa', '--finetune-config.cross_frame_attention.num_3d_layers', '1', '--finetune-config.cross_frame_attention.dim_3d_latent', '16', '--finetune-config.cross_frame_attention.dim_3d_grid', '64', '--finetune-config.cross_frame_attention.n_novel_images', '0', '--finetune-config.cross_frame_attention.vol_rend_proj_in_mode', 'multiple', '--finetune-config.cross_frame_attention.vol_rend_proj_out_mode', 'multiple', '--finetune-config.cross_frame_attention.vol_rend_aggregator_mode', 'ibrnet', '--finetune-config.cross_frame_attention.last_layer_mode', 'no_residual_connection', '--finetune_config.cross_frame_attention.vol_rend_model_background', '--finetune_config.cross_frame_attention.vol_rend_background_grid_percentage', '0.5', '--finetune-config.model.pose_cond_mode', 'sa-ca', '--finetune-config.model.pose_cond_coord_space', 'absolute', '--finetune-config.model.pose_cond_lora_rank', '64', '--finetune-config.model.n_input_images', '3', '--dataset-config.root-dir', '/root/autodl-tmp/eth3d_high_res_test', '--dataset-config.threshold', '0.8', '--dataset-config.split', 'train', '--dataset-config.img_wh', '512', '--dataset-config.debug', '0', '--validation-dataset-config.debug', '0', '--validation-dataset-config.root-dir', '/root/autodl-tmp/eth3d_high_res_test', '--validation-dataset-config.split', 'val', '--validation-dataset-config.threshold', '0.8']' returned non-zero exit status 1.
Traceback (most recent call last):
  File "/root/miniconda3/lib/python3.8/runpy.py", line 185, in _run_module_as_main
    mod_name, mod_spec, code = _get_module_details(mod_name, _Error)
  File "/root/miniconda3/lib/python3.8/runpy.py", line 111, in _get_module_details
    __import__(pkg_name)
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/__init__.py", line 3, in <module>
    from .accelerator import Accelerator
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/accelerator.py", line 36, in <module>
    from .checkpointing import load_accelerator_state, load_custom_state, save_accelerator_state, save_custom_state
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/checkpointing.py", line 24, in <module>
    from .utils import (
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/utils/__init__.py", line 138, in <module>
    from .launch import (
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/utils/launch.py", line 23, in <module>
    from ..commands.config.config_args import SageMakerConfig
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/config/__init__.py", line 19, in <module>
    from .config import config_command_parser
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/config/config.py", line 22, in <module>
    from .cluster import get_cluster_input
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/config/cluster.py", line 36, in <module>
    from .config_args import ClusterConfig
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/accelerate/commands/config/config_args.py", line 23, in <module>
    import yaml
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/yaml/__init__.py", line 8, in <module>
    from .loader import *
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/yaml/loader.py", line 4, in <module>
    from .reader import *
  File "/root/autodl-tmp/instructpix2pix/lib/python3.8/site-packages/yaml/reader.py", line 22, in <module>
    import codecs, re
KeyboardInterrupt
